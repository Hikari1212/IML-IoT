<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>部員名簿 新規登録</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>部員名簿 新規登録</h1>
    <div class="container">
        <div id="register-panel" class="panel" style="max-width: 600px;">
            <p style="text-align: center; color: #555; margin-top: 0;">
                情報を入力して登録してください。<br>
                登録後、管理者による承認が行われると、システムが利用可能になります。
            </p>
            <hr>
            <form id="register-form" class="settings-form">
                <div class="form-group">
                    <label for="new-member-name">名前 (必須)</label>
                    <input type="text" id="new-member-name" placeholder="電通 太郎" required>
                </div>
                <div class="form-group">
                    <label for="new-member-furigana">フリガナ (必須)</label>
                    <input type="text" id="new-member-furigana" placeholder="デンツウ タロウ" required>
                </div>
                <div class="form-group">
                    <label for="new-member-studentid">学籍番号 (7桁, 必須)</label>
                    <input type="text" id="new-member-studentid" placeholder="2500001" pattern="[0-9]{7}" maxlength="7" required>
                </div>
                <div class="form-group">
                    <label for="new-member-email">メールアドレス (必須)</label>
                    <input type="email" id="new-member-email" placeholder="taro.dentsu@example.com" required>
                </div>
                <div class="form-group">
                    <label for="new-member-discordid">DiscordユーザーID (必須)</label>
                    <input type="text" id="new-member-discordid" placeholder="17〜19桁の数字" pattern="^\d{17,19}$" title="DiscordユーザーIDは17桁から19桁の数字で入力してください。" required>
                </div>
                <div class="form-group">
                    <label for="new-member-gender">性別 (必須)</label>
                    <select id="new-member-gender" required>
                        <option value="">選択してください</option>
                        <option value="男性">男性</option>
                        <option value="女性">女性</option>
                        <option value="その他">その他</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="new-member-age">年齢</label>
                    <input type="number" id="new-member-age" placeholder="20">
                </div>
                <div class="form-group">
                    <label for="new-member-grade">学年 (必須)</label>
                    <select id="new-member-grade" required>
                        <option value="">選択してください</option>
                        <option value="B1">学部1年</option>
                        <option value="B2">学部2年</option>
                        <option value="B3">学部3年</option>
                        <option value="B4">学部4年</option>
                        <option value="M1">修士1年</option>
                        <option value="M2">修士2年</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="new-member-category">類 (必須)</label>
                    <select id="new-member-category" required>
                        <option value="">選択してください</option>
                        <option value="Ⅰ類">Ⅰ類</option>
                        <option value="Ⅱ類">Ⅱ類</option>
                        <option value="Ⅲ類">Ⅲ類</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="new-member-project">所属プロジェクト</label>
                    <input type="text" id="new-member-project" placeholder="IMLプロジェクト">
                </div>
                <button type="submit" id="submit-button">登録を申請する</button>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyCrG5mdVZZ9hKNpdG5WlRMsxnU7l51k1gA",
          authDomain: "iml-iot-sdkv9.firebaseapp.com",
          projectId: "iml-iot-sdkv9",
          storageBucket: "iml-iot-sdkv9.firebasestorage.app",
          messagingSenderId: "454858659417",
          appId: "1:454858659417:web:ba23b9ddd088a6af0c8348",
          measurementId: "G-S163PEYCK0"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        import { initRegisterPage } from './register.js';
        initRegisterPage(db);
    </script>
</body>
</html>